#!/bin/fish
cd $SEM
set f $SEM/(fd --strip-cwd-prefix --base-directory $SEM --type file . | rofi -match fuzzy -p "search" -dmenu -i 2> /dev/null)
if test -z $f
    echo nothing selected
    exit 1
end
cd (dirname $f)
if string match --regex --entire .pdf $f
    zathura $f &
else if string match --regex --entire .docx $f
    libreoffice $f &
else if string match --regex --entire .png $f || string match --regex --entire .png $f
    sxiv $f &
else if file -L $f | grep text
    kitty -e $EDITOR $f &
else
    open $f &
end
